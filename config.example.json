{
  "_comment": "cs-server configuration file. Copy to config.json and customize.",

  "redis": {
    "_comment": "Redis connection settings",
    "redis_host": "redis",
    "redis_port": 6379,
    "redis_password": "",
    "redis_db": 0
  },

  "venues_refresher": {
    "_comment": "Venue data refresh schedules",
    "venues_catalog_refresh_minutes": 43200,
    "venues_live_refresh_minutes": 5,
    "weekly_forecast_cron": "0 0 * * 0"
  },

  "besttime_api": {
    "_comment": "BestTime API credentials for foot traffic data",
    "besttime_private_key": "",
    "besttime_public_key": "",
    "besttime_endpoint_base_v1": "https://besttime.app/api/v1",
    "besttime_search_polling_wait_seconds": 15
  },

  "google_places_api": {
    "_comment": "Google Places API enrichment (vibe attributes, business status, permanently closed detection)",
    "google_places_api_key": "",
    "google_places_enrichment_enabled": false,
    "google_places_enrichment_cron": "0 3 * * *",
    "google_places_enrichment_on_startup": false,
    "remove_permanently_closed_venues": true
  },

  "photo_enrichment": {
    "_comment": "Photo enrichment using Google Places API",
    "photo_enrichment_enabled": false,
    "photo_enrichment_on_startup": false,
    "photo_enrichment_limit": 20,
    "photos_per_venue": 5
  },

  "instagram_discovery": {
    "_comment": "Instagram venue discovery using Apify scraper (weekly enrichment)",
    "apify_api_token": "",
    "instagram_enrichment_enabled": false,
    "instagram_enrichment_cron": "0 4 * * 1",
    "instagram_enrichment_on_startup": false,
    "instagram_min_confidence": 0.50,
    "instagram_auto_accept_threshold": 0.75,
    "instagram_search_candidates": 3,
    "instagram_enrichment_limit": 0,
    "instagram_cache_ttl_days": 30,
    "instagram_not_found_cache_ttl_days": 7
  },

  "ig_posts_enrichment": {
    "_comment": "Instagram post scraping — feeds captions into vibe classifier for richer vibe extraction",
    "ig_posts_enrichment_enabled": false,
    "ig_posts_enrichment_on_startup": false,
    "ig_posts_enrichment_cron": "0 4 * * 3",
    "ig_posts_enrichment_limit": 20,
    "ig_posts_per_venue": 10,
    "ig_posts_cache_ttl_days": 30
  },

  "vibe_classifier": {
    "_comment": "AI vibe classification from photos + text signals (IG bio/posts, Google reviews)",
    "vibe_classifier_enabled": false,
    "vibe_classifier_on_startup": false,
    "vibe_classifier_cron": "0 7 1 * *",
    "vibe_classifier_limit": 20,
    "vibe_classifier_target_photos": 10,
    "vibe_classifier_escalation_threshold": 0.80,
    "vibe_classifier_stage_b_photos": 5,
    "vibe_classifier_stage_a_model": "gpt-4o-mini",
    "vibe_classifier_stage_b_model": "gpt-4o"
  },

  "menu_enrichment": {
    "_comment": "Menu photo fetching (SerpApi primary, Apify fallback) + S3 + OpenAI extraction",
    "menu_enrichment_enabled": false,
    "menu_enrichment_on_startup": false,
    "menu_enrichment_cron": "0 5 1 * *",
    "menu_enrichment_limit": 10,
    "menu_photos_per_venue": 20,
    "menu_photo_categories": ["menu", "cardápio", "cardapio", "preços", "valores"],
    "serpapi_api_key": "",
    "menu_apify_fallback_enabled": false,
    "menu_photo_filter_enabled": true,
    "menu_photo_filter_confidence": 0.6,
    "s3_bucket": "",
    "s3_region": "us-east-1",
    "s3_access_key_id": "",
    "s3_secret_access_key": "",
    "openai_api_key": "",
    "menu_extraction_enabled": false,
    "menu_extraction_on_startup": false,
    "menu_extraction_cron": "0 6 1 * *",
    "menu_extraction_model": "gpt-4o"
  },

  "server": {
    "_comment": "Server configuration",
    "server_port": 8080,
    "log_level": "INFO"
  },

  "startup": {
    "_comment": "Startup behavior",
    "refresh_on_startup": true,
    "fetch_venue_limit_override": 0,
    "fetch_venue_total_limit": -1,
    "process_venue_total_limit": -1
  }
}
